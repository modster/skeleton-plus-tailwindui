import{n as we,h as S,y as ye,p as v,v as ee,o as P,t as Ae,s as ae,x as te,k as ce,i as Ce,b as je,c as ze,u as ke,d as De,e as xe,l as Be}from"../chunks/scheduler.eef617db.js";import{S as ue,i as me,r as $,u as _,v as h,d as u,t as g,w as d,s as C,c as j,a as w,f as y,e as k,p as V,b as Y,F as ge}from"../chunks/index.a1ad533f.js";import{e as b,g as Ee,f as Ge,t as Se,G as L,r as Fe,h as Oe,B as Pe,V as Me,v as Te}from"../chunks/PositionMesh.e56c3b8b.js";import{w as qe}from"../chunks/index.1e8c2453.js";const pe=typeof window<"u";let Le=pe?()=>window.performance.now():()=>Date.now(),$e=pe?r=>requestAnimationFrame(r):we;const z=new Set;function _e(r){z.forEach(t=>{t.c(r)||(z.delete(t),t.f())}),z.size!==0&&$e(_e)}function Ne(r){let t;return z.size===0&&$e(_e),{promise:new Promise(s=>{z.add(t={c:r,f:s})}),abort(){z.delete(t)}}}function M(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function Re(r){return r/=.5,r<1?.5*r*r:(r--,-.5*(r*(r-2)-1))}function ne(r){return Object.prototype.toString.call(r)==="[object Date]"}function R(r,t){if(r===t||r!==r)return()=>r;const s=typeof r;if(s!==typeof t||Array.isArray(r)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(r)){const n=t.map((e,o)=>R(r[o],e));return e=>n.map(o=>o(e))}if(s==="object"){if(!r||!t)throw new Error("Object cannot be null");if(ne(r)&&ne(t)){r=r.getTime(),t=t.getTime();const o=t-r;return i=>new Date(r+i*o)}const n=Object.keys(t),e={};return n.forEach(o=>{e[o]=R(r[o],t[o])}),o=>{const i={};return n.forEach(l=>{i[l]=e[l](o)}),i}}if(s==="number"){const n=t-r;return e=>r+e*n}throw new Error(`Cannot interpolate ${s} values`)}function Ve(r,t={}){const s=qe(r);let n,e=r;function o(i,l){if(r==null)return s.set(r=i),Promise.resolve();e=i;let f=n,a=!1,{delay:m=0,duration:p=400,easing:D=ye,interpolate:x=R}=S(S({},t),l);if(p===0)return f&&(f.abort(),f=null),s.set(r=e),Promise.resolve();const B=Le()+m;let E;return n=Ne(G=>{if(G<B)return!0;a||(E=x(r,i),typeof p=="function"&&(p=p(r,i)),a=!0),f&&(f.abort(),f=null);const A=G-B;return A>p?(s.set(r=i),!1):(s.set(r=E(D(A/p))),!0)}),n.promise}return{set:o,update:(i,l)=>o(i(e,r),l),subscribe:s.subscribe}}function Ye(r,t){const s="threlte-plugin-context";if(Array.isArray(r)){const[n,e]=r;v(s,{...ee(s),[n]:e})}else{const n=r,e=t;if(!e)return;v(s,{...ee(s),[n]:e})}}const He=r=>r.isObject3D,Ie=r=>{Ye("align-plugin",({ref:t})=>{if(!He(t))return;P(()=>(r(),r));const s=async()=>{await Ae(),r()};return{onRefChange(){s()}}})},We=r=>({ref:r&2097152}),re=r=>({align:r[4],center:r[4],ref:r[21]});function Je(r){let t;const s=r[16].default,n=ze(s,r,r[18],re);return{c(){n&&n.c()},l(e){n&&n.l(e)},m(e,o){n&&n.m(e,o),t=!0},p(e,o){n&&n.p&&(!t||o&2359296)&&ke(n,s,e,e[18],t?xe(s,e[18],o,We):De(e[18]),re)},i(e){t||(u(n,e),t=!0)},o(e){g(n,e),t=!1},d(e){n&&n.d(e)}}}function Ke(r){let t,s;return t=new b({props:{is:r[2],$$slots:{default:[Je]},$$scope:{ctx:r}}}),{c(){$(t.$$.fragment)},l(n){_(t.$$.fragment,n)},m(n,e){h(t,n,e),s=!0},p(n,e){const o={};e&2359296&&(o.$$scope={dirty:e,ctx:n}),t.$set(o)},i(n){s||(u(t.$$.fragment,n),s=!0)},o(n){g(t.$$.fragment,n),s=!1},d(n){d(t,n)}}}function Qe(r){let t,s;return t=new b({props:{is:r[3],$$slots:{default:[Ke]},$$scope:{ctx:r}}}),{c(){$(t.$$.fragment)},l(n){_(t.$$.fragment,n)},m(n,e){h(t,n,e),s=!0},p(n,e){const o={};e&2359296&&(o.$$scope={dirty:e,ctx:n}),t.$set(o)},i(n){s||(u(t.$$.fragment,n),s=!0)},o(n){g(t.$$.fragment,n),s=!1},d(n){d(t,n)}}}function Ue(r){let t,s;const n=[{is:r[1]},r[6]];let e={$$slots:{default:[Qe,({ref:o})=>({21:o}),({ref:o})=>o?2097152:0]},$$scope:{ctx:r}};for(let o=0;o<n.length;o+=1)e=S(e,n[o]);return t=new b({props:e}),r[17](t),{c(){$(t.$$.fragment)},l(o){_(t.$$.fragment,o)},m(o,i){h(t,o,i),s=!0},p(o,[i]){const l=i&66?Ee(n,[i&2&&{is:o[1]},i&64&&Ge(o[6])]):{};i&2359296&&(l.$$scope={dirty:i,ctx:o}),t.$set(l)},i(o){s||(u(t.$$.fragment,o),s=!0)},o(o){g(t.$$.fragment,o),s=!1},d(o){r[17](null),d(t,o)}}}function Xe(r,t,s){const n=["x","y","z","precise","auto","autoCenter","calculate","align"];let e=te(t,n),o,{$$slots:i={},$$scope:l}=t,{x:f=0}=t,{y:a=0}=t,{z:m=0}=t,{precise:p=!1}=t,{auto:D=!1}=t,{autoCenter:x=!1}=t;const B=Se(),E=new L,G=new L,A=new L;let T=!1;P(()=>{s(15,T=!0)});const H=()=>{if(!T||f===!1&&a===!1&&m===!1)return;A.matrixWorld.identity();const c=new Pe().setFromObject(G,p),O=new Me,I=new Te,W=c.max.x-c.min.x,J=c.max.y-c.min.y,K=c.max.z-c.min.z;c.getCenter(O),c.getBoundingSphere(I);const Q=(a||0)*J/2,U=(f||0)*W/2,X=(m||0)*K/2;A.position.set(f===!1?0:-O.x+U,a===!1?0:-O.y+Q,m===!1?0:-O.z+X);const Z={boundingBox:c,center:A.position.clone(),boundingSphere:I,container:E,depth:K,depthAlignment:X,height:J,verticalAlignment:Q,width:W,horizontalAlignment:U};B("align",Z),B("center",Z)},{start:F,stop:he}=Fe(({invalidate:c})=>{H(),c(),he()},{autostart:!1,invalidate:!1}),de=()=>{F()};(D||x)&&Ie(F);const q=Oe();ce(r,q,c=>s(0,o=c));function be(c){je[c?"unshift":"push"](()=>{o=c,q.set(o)})}return r.$$set=c=>{t=S(S({},t),Ce(c)),s(6,e=te(t,n)),"x"in c&&s(7,f=c.x),"y"in c&&s(8,a=c.y),"z"in c&&s(9,m=c.z),"precise"in c&&s(10,p=c.precise),"auto"in c&&s(11,D=c.auto),"autoCenter"in c&&s(12,x=c.autoCenter),"$$scope"in c&&s(18,l=c.$$scope)},r.$$.update=()=>{r.$$.dirty&34688&&F()},[o,E,G,A,F,q,e,f,a,m,p,D,x,H,de,T,i,be,l]}class Ze extends ue{constructor(t){super(),me(this,t,Xe,Ue,ae,{x:7,y:8,z:9,precise:10,auto:11,autoCenter:12,calculate:13,align:14})}get calculate(){return this.$$.ctx[13]}get align(){return this.$$.ctx[14]}}const ve=Ze;function se(r,t,s){const n=r.slice();return n[3]=t[s],n[5]=s,n}function oe(r,t,s){const n=r.slice();return n[6]=t[s],n[8]=s,n}function N(r){const t=r.slice(),s=ot(t[6].level);t[9]=s;const n=st(t[6].count);return t[10]=n,t}function ie(r){let t,s;return t=new b.Group({props:{position:[0,0,12*r[5]],"scale.y":r[1],$$slots:{default:[tt]},$$scope:{ctx:r}}}),{c(){$(t.$$.fragment)},l(n){_(t.$$.fragment,n)},m(n,e){h(t,n,e),s=!0},p(n,e){const o={};e&2&&(o["scale.y"]=n[1]),e&2049&&(o.$$scope={dirty:e,ctx:n}),t.$set(o)},i(n){s||(u(t.$$.fragment,n),s=!0)},o(n){g(t.$$.fragment,n),s=!1},d(n){d(t,n)}}}function et(r){let t,s,n,e,o,i;return t=new b.BoxGeometry({props:{args:[10,r[10],10]}}),n=new b.BoxGeometry({props:{args:[10,r[6].count,10]}}),o=new b.MeshStandardMaterial({props:{color:r[9]}}),{c(){$(t.$$.fragment),s=C(),$(n.$$.fragment),e=C(),$(o.$$.fragment)},l(l){_(t.$$.fragment,l),s=j(l),_(n.$$.fragment,l),e=j(l),_(o.$$.fragment,l)},m(l,f){h(t,l,f),w(l,s,f),h(n,l,f),w(l,e,f),h(o,l,f),i=!0},p(l,f){const a={};f&1&&(a.args=[10,l[10],10]),t.$set(a);const m={};f&1&&(m.args=[10,l[6].count,10]),n.$set(m);const p={};f&1&&(p.color=l[9]),o.$set(p)},i(l){i||(u(t.$$.fragment,l),u(n.$$.fragment,l),u(o.$$.fragment,l),i=!0)},o(l){g(t.$$.fragment,l),g(n.$$.fragment,l),g(o.$$.fragment,l),i=!1},d(l){l&&(y(s),y(e)),d(t,l),d(n,l),d(o,l)}}}function tt(r){let t,s,n;return t=new b.Mesh({props:{position:[12*r[8],r[6].count/2,0],$$slots:{default:[et]},$$scope:{ctx:r}}}),{c(){$(t.$$.fragment),s=C()},l(e){_(t.$$.fragment,e),s=j(e)},m(e,o){h(t,e,o),w(e,s,o),n=!0},p(e,o){const i={};o&1&&(i.position=[12*e[8],e[6].count/2,0]),o&2049&&(i.$$scope={dirty:o,ctx:e}),t.$set(i)},i(e){n||(u(t.$$.fragment,e),n=!0)},o(e){g(t.$$.fragment,e),n=!1},d(e){e&&y(s),d(t,e)}}}function le(r){let t,s,n=r[6]&&ie(N(r));return{c(){n&&n.c(),t=k()},l(e){n&&n.l(e),t=k()},m(e,o){n&&n.m(e,o),w(e,t,o),s=!0},p(e,o){e[6]?n?(n.p(N(e),o),o&1&&u(n,1)):(n=ie(N(e)),n.c(),u(n,1),n.m(t.parentNode,t)):n&&(V(),g(n,1,1,()=>{n=null}),Y())},i(e){s||(u(n),s=!0)},o(e){g(n),s=!1},d(e){e&&y(t),n&&n.d(e)}}}function fe(r){let t,s,n=M(r[3]),e=[];for(let i=0;i<n.length;i+=1)e[i]=le(oe(r,n,i));const o=i=>g(e[i],1,1,()=>{e[i]=null});return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=k()},l(i){for(let l=0;l<e.length;l+=1)e[l].l(i);t=k()},m(i,l){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(i,l);w(i,t,l),s=!0},p(i,l){if(l&3){n=M(i[3]);let f;for(f=0;f<n.length;f+=1){const a=oe(i,n,f);e[f]?(e[f].p(a,l),u(e[f],1)):(e[f]=le(a),e[f].c(),u(e[f],1),e[f].m(t.parentNode,t))}for(V(),f=n.length;f<e.length;f+=1)o(f);Y()}},i(i){if(!s){for(let l=0;l<n.length;l+=1)u(e[l]);s=!0}},o(i){e=e.filter(Boolean);for(let l=0;l<e.length;l+=1)g(e[l]);s=!1},d(i){i&&y(t),ge(e,i)}}}function nt(r){let t,s,n=M(r[0]),e=[];for(let i=0;i<n.length;i+=1)e[i]=fe(se(r,n,i));const o=i=>g(e[i],1,1,()=>{e[i]=null});return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=k()},l(i){for(let l=0;l<e.length;l+=1)e[l].l(i);t=k()},m(i,l){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(i,l);w(i,t,l),s=!0},p(i,l){if(l&3){n=M(i[0]);let f;for(f=0;f<n.length;f+=1){const a=se(i,n,f);e[f]?(e[f].p(a,l),u(e[f],1)):(e[f]=fe(a),e[f].c(),u(e[f],1),e[f].m(t.parentNode,t))}for(V(),f=n.length;f<e.length;f+=1)o(f);Y()}},i(i){if(!s){for(let l=0;l<n.length;l+=1)u(e[l]);s=!0}},o(i){e=e.filter(Boolean);for(let l=0;l<e.length;l+=1)g(e[l]);s=!1},d(i){i&&y(t),ge(e,i)}}}function rt(r){let t,s,n,e,o,i,l,f;return t=new b.DirectionalLight({props:{position:[0,200,200],intensity:2,color:"#fff"}}),n=new b.AmbientLight({props:{color:"#fff",intensity:.4}}),o=new b.DirectionalLight({props:{position:[0,200,-200],color:"#fff",intensity:2}}),l=new ve({props:{autoCenter:!0,"position.y":0,$$slots:{default:[nt]},$$scope:{ctx:r}}}),{c(){$(t.$$.fragment),s=C(),$(n.$$.fragment),e=C(),$(o.$$.fragment),i=C(),$(l.$$.fragment)},l(a){_(t.$$.fragment,a),s=j(a),_(n.$$.fragment,a),e=j(a),_(o.$$.fragment,a),i=j(a),_(l.$$.fragment,a)},m(a,m){h(t,a,m),w(a,s,m),h(n,a,m),w(a,e,m),h(o,a,m),w(a,i,m),h(l,a,m),f=!0},p(a,[m]){const p={};m&2051&&(p.$$scope={dirty:m,ctx:a}),l.$set(p)},i(a){f||(u(t.$$.fragment,a),u(n.$$.fragment,a),u(o.$$.fragment,a),u(l.$$.fragment,a),f=!0)},o(a){g(t.$$.fragment,a),g(n.$$.fragment,a),g(o.$$.fragment,a),g(l.$$.fragment,a),f=!1},d(a){a&&(y(s),y(e),y(i)),d(t,a),d(n,a),d(o,a),d(l,a)}}}function st(r,t=4,s=2){switch(!0){case r===0:return t;case r>40:return r;default:return r*(t+s)}}function ot(r){switch(r){case 0:return"#0e0e0e";case 1:return"#00442a";case 2:return"#006d35";case 3:return"#00a648";case 4:return"#00d35c"}}function it(r,t,s){let n,e=[];P(async()=>{const i=await fetch("https://gh-contributions-api.vercel.app/mattcroat/2022");s(0,e=await i.json())});const o=Ve(0,{duration:2e3,easing:Re});return ce(r,o,i=>s(1,n=i)),P(()=>{Be(o,n=1,n)}),[e,n,o]}class ut extends ue{constructor(t){super(),me(this,t,it,rt,ae,{})}}export{ut as component};
